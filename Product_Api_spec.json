{
    "openapi":"3.1.0",
    "info":{
        "title":"product api",
        "version":"1"
    },
    "servers":[ { "url":"localhost:8000/api/product"}],

    "components":
    {
        "schema":
        {
            "product":
            {
                "type":"object",
                "properties":
                {
                    "id":
                {
                    "type":"integer",
                    "example":"1"
                },
                "kategori":
                {
                    "type":"string",
                    "example":"fashions"
                },
                "nama_product":
                {
                    "type":"string",
                    "example":"sweeter"
                },
                "stock":
                {
                    "type":"string",
                    "example":"10"
                },
                "price":
                {
                    "type":"integer",
                    "example":"200000"
                },
                "image":
                {
                    "type":"jpg",
                    "example":"cloths.jpg"
                }
                }
                
            }
        },
        "responses":
        {
            "failed":
            {
                "content":
                {
                    "application/json":
                    {
                        "schema":
                        {
                            "example":
                            {
                                "error":"Unauthorize"
                            }
                        }
                    }
                }
            }
        },
        "securitySchemes":
        {
            "JwtAuth":
            {
                "type":"http",
                "name":"bearerToken",
                "in":"header",
                "scheme":"bearer",
                "bearerFormat":"jwt"
            }
        }
    },

    "paths":

    {
        "product":
        {
            "post":
            {
                "summary":"create",
                "description":"create or add data product",
                "security":
                [
                    {
                        "JwtAuth":[]
                    }
                ],

                "paramaters":
                [
                    {
                        "in":"header",
                        "name":"authorization"
                    }
                ],
                "requestBody":
                {
                    "required":true,
                    "content":
                    {
                        "application/json":
                        {
                            "schema": 
                            {
                                "$ref":"#/components/schema/product"
                            }
                        }
                    }
                },
                "responses":
                {
                    "401":
                    {
                        "description":"failed",
                        "$ref":"#/components/responses/failed"
                    },
                    "200": 
                    {
                        "description":"success",
                        "content":
                        {
                            "application/json": 
                            {
                                "schema": 
                                {
                                    "$ref":"#/components/schema/product"
                                }
                            }
                        }
                    }
                }
            },

            "get":
            {
                "summary":"get data",
                "description":"get all data product",
                "security":
                [
                    {
                        "JwtAuth":[]
                    }
                ],
                "responses":
                {
                    "200": 
                    {
                        "content":
                        {
                            "application/json": 
                            {
                                "schema": 
                                {
                                    "$ref":"#/components/schema/product"
                                }
                            }
                        }
                    },
                    "401": 
                    {
                        "description":"failed",
                        "$ref":"#/components/responses/failed"
                    }
                }
            }
        },
        "product/{id}":
        {
            "patch":
            {
                "summary":"update",
                "description":"update data product By ID",
                "security":
                [
                    {
                        "JwtAuth":[]
                    }
                ],
                "paramaters":
                [
                    {
                        "name":"id",
                        "in":"path"
                    },
                    {
                        "in":"header",
                        "name":"authorization"
                    }
                ],

                "requestBody": 
                {
                    "required":true,
                    "content": 
                    {
                        "application/json": 
                        {
                            "schema":
                            {
                                "type":"object",
                                
                                    "properties":
                                    {
                                        "nama_product":{"type":"string", "example":"shoes"},
                                        "categori":{"type":"string", "example":"fashion"},
                                        "stock":{"type":"string","example":"2"},
                                        "price":{"type":"string", "example":"200000"}
                                    }
                                
                            }
                        }
                    }
                },
                "responses": 
                {
                    "401":
                    {
                        "description":"failed",
                        "$ref":"#/components/responses/failed"
                    },
                    "200":
                    {
                        "description":"success",
                        "content": 
                        {
                            "application/json": 
                            {
                              "schema":
                            {
                                "type":"object",
                                
                                    "properties":
                                    {
                                        "nama_product":{"type":"string", "example":"shoes"},
                                        "categori":{"type":"string", "example":"fashion"},
                                        "stock":{"type":"string","example":"2"},
                                        "price":{"type":"string", "example":"200000"}
                                    }
                                
                            }
                            }
                        }
                    }
                }
            },

            "delete":
            {
                "summary":"delete",
                "description":"delete data product by Id",
                "security":
                [
                    {
                        "JwtAuth":[]
                    }
                ],
                "paramaters":
                [
                    {
                        "name":"id",
                        "in":"path"
                    },
                    {
                        "in":"header",
                        "name":"authorization"
                    }
                ],
                "rsponses":
                {
                    "401": 
                    {
                        "description":"failed",
                        "$ref":"#/components/responses/failed"
                    },
                    "200": 
                    {
                        "example": 
                        {
                            "message":true
                        }
                    }
                }
            }
        }
    }
}