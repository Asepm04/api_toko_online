{
    "openapi":"3.1.0",
    "info":
    {
        "version":1,
        "title":"user Api Spec"
    },
    "servers":[
         {
            "url":"localholst/api/user"
         }

    ],

    "components":
    {
        "schema":
        {
            "user":
            {
                "type":"object",
                "properties":
                {
                    "id":
                    {
                        "type":"integer",
                        "example":"1"
                    },
                    "name":
                    {
                        "type":"string",
                        "minLength":"5",
                        "example":"yadi"
                    },
                    "email":
                    {
                        "type":"string",
                        "minLength":"5",
                        "example":"yadi@gmail.com"
                    },
                    "password":
                    {
                        "type":"string",
                        "minLength":"8",
                        "example":"12$#,MMh"
                    }
                }
            },
            "userId": 
            {
                "type":"object",
                "properties":
                {
                    "name": 
                    {
                        "type":"string",
                        "example":"yadi"
                    },
                    "password":
                    {
                        "type":"string",
                        "example":"hidfyd642#$"
                    }
                }
            },
            "responseFailed":
            {
                 "description":"failed",
                    "content":
                    {
                        "application/json": 
                        {
                            "schema":
                            {
                                "example":
                                {
                                    "error":"Unauthorize"
                                }
                            }
                        }
                    }
                
            }
        },
        "securitySchemes":
        {
            "JwtAuth":
            {
                "name":"bearer-token",
                "in":"header",
                "type":"http",
                "scheme":"bearer",
                "bearerFormat":"Jwt"
            }
        }
    },

    "paths":
    {
        "user":
        {
            "post":
            {
                "summary":"add data",
                "description":"add data user or Register",

                "requestBody":
                {
                    "required":true,
                    "content":
                    {
                        "application/json":
                        {
                            "schema":
                            {
                                "$ref":"#/components/schema/user"
                            }
                        }
                    }
                },
                "responses":
                {
                   "200":
                   {
                    "description":"add data user was successful",
                    "content":
                    {
                        "application/json":
                        {
                            "schema":
                            {
                                "$ref":"#/components/schema/user"
                            }
                        }
                    }
                   },
                   "401":
                   {
                    "description":"failed",
                       "content":
                       {
                           "application/json": 
                           {
                               "schema":
                               {
                                   "example":
                                   {
                                       "error":"Unauthorize"
                                   }
                               }
                           }
                       }
                   }
                },
                "security":
                [
                    {
                        "JwtAuth":[]
                    }
                ]
            },
            "get":
            {
                "summary":"get data",
                "description":"get all data user",
                "responses":
                {
                    "200":
                    {
                        "content":
                        {
                            "application/json":
                            {
                                "schema": 
                                {
                                    "$ref":"#/components/schema/user"
                                }
                            }
                        }
                    },
                    "401":
                    {
                        "description":"failed",

                        "content":
                        {
                            "application/json": 
                            {
                                "schema":
                                {
                                    "example":
                                    {
                                        "error":"Unauthorize"
                                    }
                                }
                            }
                        }
                    }
                },
                "security":
                [
                    {
                        "JwtAuth":[]
                    }
                ]
            }
        },
        "user/{id}":
        {
            "patch":
            {
                "summary":"update",
                "description":"update data user",
                "security": 
                [
                    { "JwtAuth":[] }
                ],

                "parameters":
                [
                    {
                        "in":"path",
                        "name":"id",
                        "schema":
                        {
                            "type":"integer"
                        }
                    }
                ],
                "requestBody":
                {
                    "required":true,
                    "content": 
                    {
                        "application/json": 
                        {
                           "schema": 
                           {
                            "$ref":"#/components/schema/userId"
                           }
                        }
                    }
                },
                "responses": 
                {
                    "401": 
                    {
                        "$ref":"#/components/schema/responseFailed",

                    },

                    "200": 
                    {
                        "description":"success",
                        "content":
                        {
                            "application/json":
                            {
                                "schema": 
                                {
                                    "$ref":"#/components/schema/userId"
                                }
                            }
                        }
                    }
                }
            },
            "delete":
            {
                "summary":"delete",
                "description":"delete data user",
                "security": 
                [
                    { "JwtAuth":[] }
                ],
                
                "parameters":
                [
                    {
                        "in":"path",
                        "name":"id",
                        "schema":
                        {
                            "type":"integer"
                        }
                    }
                ],

                "responses": 
                {
                    "401": 
                    {
                        "$ref":"#/components/schema/responseFailed",

                    },

                    "200": 
                    {
                        "description":"success",
                        "content":
                        {
                            "application/json":
                            {
                                "schema": 
                                {
                                    "$ref":"#/components/schema/userId"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}